import{S as v,a as h}from"./request-a7bb9537.js";import{f as p,u as x,o as w,j as y,k as b,w as S,R as c,$ as d,l as e,s as k,v as L}from"./vue-router.esm-bundler-f47d5b1d.js";import{_ as I}from"./plugin-vueexport-helper-c27b6911.js";import{m as R}from"./useConfigInject-968d6b94.js";import"./index-8350f723.js";const u=o=>(k("data-v-8c3720f7"),o=o(),L(),o),C={class:"page"},T=u(()=>e("div",{class:"header flex text-center items-center"},[e("div",{class:"w-full text-3xl font-bold text-white"},"HKUST Food Minus")],-1)),V=u(()=>e("div",{class:"text-center text-2xl font-bold my-8"},"Login",-1)),B={__name:"Login",setup(o){const s=p(""),a=p(""),n=x(),l=p(!1),_=async()=>{if(s.value.length===0||a.value.length===0){R.error("Please complete all fields");return}l.value=!0;let r=await h("post","login",{itsc:s.value,password:a.value});if(l.value=!1,r.error===!1){let t=r.result;localStorage.setItem("food_minus_app",JSON.stringify({token:t,itsc:s.value})),n.push({name:"Home",params:{needReload:!0}})}},m=()=>{n.push({path:"/register"})},f=()=>{n.push({path:"/forget-password"})};return(r,t)=>{const g=v;return w(),y("div",C,[b(g,{spinning:l.value,tip:"Logging in"},{default:S(()=>[T,V,c(e("input",{type:"text",class:"input",placeholder:"ITSC","onUpdate:modelValue":t[0]||(t[0]=i=>s.value=i)},null,512),[[d,s.value]]),c(e("input",{type:"password",class:"input",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=i=>a.value=i)},null,512),[[d,a.value]]),e("span",{class:"text-btn color-primary",onClick:f},"Forget password?"),e("div",{class:"btn-group"},[e("div",{class:"btn primary-btn bg-color-primary font-bold",onClick:_}," Login "),e("div",{class:"btn secondary-btn color-primary font-bold",onClick:m}," Signup ")])]),_:1},8,["spinning"])])}}},j=I(B,[["__scopeId","data-v-8c3720f7"]]);export{j as default};

import{S as f,a as h}from"./request-f687857f.js";import{f as r,u as x,o as w,h as y,i as b,w as S,Q as p,_ as d,j as e,p as L,q as k}from"./vue-router.esm-bundler-838e7efe.js";import{_ as I,m as T}from"./plugin-vueexport-helper-ae293a1c.js";import"./index-b8a16a98.js";const u=s=>(L("data-v-09a856c7"),s=s(),k(),s),C={class:"page"},R=u(()=>e("div",{class:"header flex text-center items-center"},[e("div",{class:"w-full text-3xl font-bold text-white"},"HKUST Food Minus")],-1)),V=u(()=>e("div",{class:"text-center text-2xl font-bold my-8"},"Login",-1)),B={__name:"Login",setup(s){const o=r(""),a=r(""),c=x(),n=r(!1),_=async()=>{if(o.value.length===0||a.value.length===0){T.error("Please complete all fields");return}n.value=!0;let l=await h("post","login",{itsc:o.value,password:a.value});if(n.value=!1,l.error===!1){let t=l.result;localStorage.setItem("food_minus_app",JSON.stringify({token:t,itsc:o.value})),c.push({path:"/"}),setTimeout(()=>{location.reload()},100)}},g=()=>{c.push({path:"/register"})},v=()=>{console.log("recover")};return(l,t)=>{const m=f;return w(),y("div",C,[b(m,{spinning:n.value,tip:"Logging in"},{default:S(()=>[R,V,p(e("input",{type:"text",class:"input",placeholder:"ITSC","onUpdate:modelValue":t[0]||(t[0]=i=>o.value=i)},null,512),[[d,o.value]]),p(e("input",{type:"password",class:"input",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=i=>a.value=i)},null,512),[[d,a.value]]),e("span",{class:"text-btn color-primary",onClick:v},"Forget password?"),e("div",{class:"btn-group"},[e("div",{class:"btn primary-btn bg-color-primary font-bold",onClick:_},"Login"),e("div",{class:"btn secondary-btn color-primary font-bold",onClick:g},"Signup")])]),_:1},8,["spinning"])])}}},M=I(B,[["__scopeId","data-v-09a856c7"]]);export{M as default};
